# 🚀 赛场瞬间 - 5分钟快速启动

## 📋 完整流程

```
1. 运行部署脚本 (5分钟) ✅
   ↓
2. 创建Logic Apps (20分钟) ✅
   ↓
3. 测试功能 (5分钟) ✅
   ↓
4. 准备作业 (1小时) ✅
```

---

## 🎯 第一步：部署Azure资源 (5分钟)

### 1. 打开PowerShell

```powershell
# Windows: 按 Win+X → 选择 "Windows PowerShell"
# 或搜索 "PowerShell"
```

### 2. 进入项目目录

```powershell
cd E:\11.9
# 或你下载项目的目录
```

### 3. 运行部署脚本

```powershell
.\deploy-azure.ps1
```

### 4. 按提示操作

```
是否继续部署？(Y/N): Y  ← 输入Y并回车

[等待5-10分钟...]

✓ 部署完成！
```

### 5. 检查生成的文件

部署完成后会生成：
- ✅ `azure-config.json` - 完整配置
- ✅ `frontend/config.js` - 前端配置
- ✅ `deployment-summary.txt` - 部署摘要

---

## 🔧 第二步：创建Logic Apps (20分钟)

### 快速方法：复制粘贴

打开 `logic-apps-guide.md`，按照每个Logic App的步骤操作：

#### 必须创建的Logic Apps（至少5个）

| 优先级 | 名称 | 用途 |
|-------|------|------|
| ⭐⭐⭐ | upload-match | 上传比赛（核心功能） |
| ⭐⭐⭐ | get-matches | 获取列表（核心功能） |
| ⭐⭐ | create-annotation | 创建标注（演示用） |
| ⭐⭐ | add-comment | 添加评论（演示用） |
| ⭐ | get-annotations | 获取标注 |

#### 创建流程（以upload-match为例）

```
1. Azure门户 → 搜索 "Logic Apps"
2. 点击 "创建"
3. 填写信息：
   资源组: sportsmoments-rg
   名称: upload-match
   类型: 消耗
4. 创建 → 转到资源
5. 点击 "空白逻辑应用"
6. 按照 logic-apps-guide.md 添加步骤
7. 保存
8. 复制 HTTP POST URL
```

### 更新配置

```javascript
// 编辑 frontend/config.js

apiEndpoints: {
    uploadMatch: '粘贴刚才复制的URL',
    getMatches: '粘贴URL',
    // ... 其他的也一样
}
```

---

## 🌐 第三步：本地测试 (5分钟)

### 方法1：Python（最简单）

```bash
# 1. 进入前端目录
cd frontend

# 2. 启动服务器
python -m http.server 8000

# 3. 打开浏览器访问
# http://localhost:8000
```

### 方法2：VS Code

```
1. 在VS Code中打开 frontend 文件夹
2. 安装扩展 "Live Server"
3. 右键 index.html
4. 选择 "Open with Live Server"
```

### 测试功能

打开浏览器后：

```
1. 点击 "上传新比赛"
2. 填写比赛信息
3. 选择一个小视频文件 (< 10MB)
4. 点击上传
5. 等待上传完成
6. 查看比赛列表
```

如果成功显示，恭喜！🎉

---

## 📊 第四步：准备作业材料

### 作业1：设计文档（PPT）

#### 快速生成内容

```powershell
# 查看设计方案
cat 赛场瞬间-项目设计方案.md

# 里面包含了PPT的所有内容大纲！
```

#### PPT结构（15页）

1. **标题页**
   - 项目名：赛场瞬间
   - 你的名字和学号

2. **问题定义**（2页）
   - 传统痛点
   - 云原生优势

3. **架构图**（1页）
   - 复制 `赛场瞬间-项目设计方案.md` 中的架构图
   - 用 draw.io 或 PowerPoint 重绘

4. **数据库设计**（2页）
   - Cosmos DB 集合结构
   - JSON 示例

5. **REST API设计**（1页）
   - UML序列图
   - API列表

6. **线框图**（2页）
   - 比赛列表页
   - 比赛详情页

7. **高级功能**（1页）
   - Application Insights
   - 战术标注系统
   - 实时协作

8. **可扩展性评估**（1页）
   - 自动扩展能力
   - 成本优化

9. **局限性**（1页）
   - 当前限制
   - 解决方案

10. **商业价值**（1页）
    - 目标用户
    - 商业模式

11. **伦理考虑**（1页）
    - 隐私保护
    - 内容审核

12. **总结**（1页）

13. **参考文献**（1页）

---

### 作业2：演示视频（5分钟）

#### 录制脚本

```
【0:00-0:30】开场
"大家好，我是XXX。这是我的云原生项目——赛场瞬间，
一个面向校园体育社团的比赛录像与战术分析平台。"

【0:30-2:00】功能演示
1. 打开网站 http://localhost:8000
2. 展示比赛列表
3. 点击"上传新比赛"
4. 上传一个测试视频
5. 等待上传完成
6. 点击查看详情
7. 播放视频
8. 添加战术标注
9. 添加评论

【2:00-4:00】Azure资源展示
1. 打开 Azure门户
2. 展示资源组
3. 打开 Storage Account → 显示上传的视频
4. 打开 Cosmos DB → 显示数据库记录
5. 打开 Logic Apps → 展示工作流设计
6. 展示运行历史记录

【4:00-4:50】高级功能
"我还添加了战术标注功能、评论系统、
以及Application Insights监控。"

【4:50-5:00】总结
"以上就是我的项目演示。完全使用Azure云原生服务，
包括Logic Apps、Blob Storage、Cosmos DB等。谢谢！"
```

#### 录制工具

**推荐**：Panopto Capture（课程要求）

**备选**：
- OBS Studio（免费，专业）
- Xbox Game Bar（Windows自带，Win+G）
- Zoom（录制会议）

---

## ✅ 完成检查清单

### Azure资源
- [ ] 资源组创建成功
- [ ] Storage Account 创建
- [ ] Blob 容器创建（3个）
- [ ] Cosmos DB 创建
- [ ] Cosmos DB 集合创建（4个）
- [ ] 配置文件生成

### Logic Apps（至少5个）
- [ ] upload-match 创建并测试
- [ ] get-matches 创建并测试
- [ ] create-annotation 创建
- [ ] add-comment 创建
- [ ] get-comments 创建

### 前端
- [ ] config.js 已更新所有URL
- [ ] 本地测试成功
- [ ] 上传功能正常
- [ ] 视频播放正常
- [ ] 战术标注功能正常

### 作业1（设计文档）
- [ ] PPT创建（15页内）
- [ ] 架构图绘制
- [ ] 数据库设计图
- [ ] UML序列图
- [ ] 线框图
- [ ] 参考文献

### 作业2（演示视频）
- [ ] 录制视频（5分钟内）
- [ ] 功能演示完整
- [ ] Azure资源展示清晰
- [ ] 上传到Panopto

---

## 🆘 常见问题快速解决

### Q1: 部署脚本报错 "未安装Azure CLI"

```powershell
# 安装Azure CLI
winget install Microsoft.AzureCLI

# 或下载安装器
# https://aka.ms/installazurecliwindows
```

### Q2: Logic App连接Cosmos DB失败

```
检查：
1. Cosmos DB账户名是否正确？
2. 访问密钥是否正确？
3. 数据库名和容器名是否匹配？

解决：
Azure门户 → Cosmos DB → 密钥 → 重新复制密钥
Logic App → 连接 → 重新配置连接
```

### Q3: 前端无法上传

```
检查：
1. frontend/config.js 的 API URL 是否更新？
2. 浏览器控制台有没有错误？
3. Logic App 的运行历史记录有没有失败？

解决：
F12 打开开发者工具 → Console → 查看错误信息
```

### Q4: 视频上传失败

```
原因：
- 文件太大（超过100MB）
- 格式不支持
- Base64转换失败

解决：
1. 使用小视频测试（< 10MB）
2. 确保是 MP4 格式
3. 检查 Logic App 日志
```

---

## 💡 省时技巧

### 技巧1：最小化测试

只创建5个Logic Apps：
1. upload-match （必须）
2. get-matches （必须）
3. create-annotation （演示用）
4. add-comment （演示用）
5. get-comments （演示用）

其他的可以在演示视频中说"已设计但未完全实现"。

---

### 技巧2：使用小文件测试

```
测试视频：
- 大小：5-10MB
- 格式：MP4
- 时长：10-30秒

可以：
1. 手机录制一段短视频
2. 或从网上下载测试视频
3. 或使用视频编辑软件截取一小段
```

---

### 技巧3：截图保存

在操作过程中截图保存：
1. Azure资源创建成功的截图
2. Logic App工作流设计截图
3. 运行成功的历史记录截图
4. 前端运行截图

这些可以放在PPT里！

---

## 📅 时间规划建议

### 第1天（2小时）
- ✅ 运行部署脚本（10分钟）
- ✅ 创建3个主要Logic Apps（60分钟）
- ✅ 本地测试基本功能（30分钟）
- ✅ 截图保存（20分钟）

### 第2天（3小时）
- ✅ 创建剩余Logic Apps（60分钟）
- ✅ 完善前端功能（60分钟）
- ✅ 准备PPT内容（60分钟）

### 第3天（2小时）
- ✅ 制作PPT（90分钟）
- ✅ 练习演示（30分钟）

### 第4天（1小时）
- ✅ 录制演示视频（30分钟）
- ✅ 检查并提交（30分钟）

---

## 🎯 最终目标

### 作业1：PPT（15页）
- ✅ 清晰的架构设计
- ✅ 完整的数据库设计
- ✅ REST API设计
- ✅ 线框图
- ✅ 可扩展性分析

### 作业2：视频（5分钟）
- ✅ 功能演示流畅
- ✅ Azure资源展示清晰
- ✅ Logic Apps工作流展示
- ✅ 数据真实存储在云端

---

## 🎉 完成后

恭喜！你完成了一个完整的云原生项目！

你学会了：
- ✅ Azure资源部署
- ✅ Logic Apps设计
- ✅ Cosmos DB使用
- ✅ Blob Storage使用
- ✅ 云原生架构设计
- ✅ REST API设计
- ✅ 前端开发

**这些技能在实际工作中非常有价值！** 💼

---

## 📞 需要帮助？

1. 查看 `README.md` - 完整文档
2. 查看 `logic-apps-guide.md` - Logic Apps详细步骤
3. 查看 `赛场瞬间-项目设计方案.md` - 设计思路
4. 查看 Azure门户的运行日志
5. 联系课程助教

---

**祝你作业顺利！加油！** 🚀🏀

