# èµ›åœºç¬é—´ - å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

**èµ›åœºç¬é—´**æ˜¯ä¸€ä¸ªåŸºäº Azure äº‘åŸç”ŸæŠ€æœ¯çš„æ ¡å›­çƒé˜Ÿæˆ˜æœ¯åˆ†æå¹³å°ï¼ŒåŒ…æ‹¬ï¼š
- æ¯”èµ›å½•åƒä¸Šä¼ å’Œç®¡ç†
- æˆ˜æœ¯æ ‡æ³¨å’Œåˆ†æ
- å›¢é˜Ÿåä½œè¯„è®º

---

## âœ… å·²å®Œæˆçš„å·¥ä½œ

1. âœ… Azure èµ„æºåˆ›å»ºï¼š
   - èµ„æºç»„ï¼š`sportsmoments-france-rg`
   - Storage Accountï¼š`sports1357`
   - Cosmos DBï¼š`sprot-113992`
   - Logic Appï¼š`upload-match`ï¼ˆå·²æµ‹è¯•æˆåŠŸï¼‰

2. âœ… å‰ç«¯ä»£ç ï¼š
   - `frontend/index.html` - ä¸»é¡µ
   - `frontend/match-detail.html` - æ¯”èµ›è¯¦æƒ…é¡µ
   - `frontend/styles.css` - æ ·å¼
   - `frontend/config.js` - é…ç½®æ–‡ä»¶
   - `frontend/script.js` - ä¸»é€»è¾‘
   - `frontend/match-detail.js` - è¯¦æƒ…é¡µé€»è¾‘

3. âœ… Logic Apps JSON å®šä¹‰ï¼š
   - `logic-apps/get-matches.json`
   - `logic-apps/get-match-by-id.json`
   - `logic-apps/delete-match.json`
   - `logic-apps/create-annotation.json`
   - `logic-apps/get-annotations.json`
   - `logic-apps/add-comment.json`
   - `logic-apps/get-comments.json`

---

## ğŸš€ ä¸‹ä¸€æ­¥ï¼šéƒ¨ç½²å‰©ä½™çš„ Logic Apps

### æ–¹æ³•1ï¼šä½¿ç”¨ PowerShell è„šæœ¬ï¼ˆæ¨èï¼‰

```powershell
cd E:\11.9
.\logic-apps\deploy-all-logic-apps.ps1
```

### æ–¹æ³•2ï¼šåœ¨ Azure é—¨æˆ·æ‰‹åŠ¨åˆ›å»º

è¯¦è§ `logic-apps/README.md`

---

## ğŸ“‹ éƒ¨ç½²åé…ç½®

### 1. è·å–æ‰€æœ‰ Logic Apps çš„ URLs

éƒ¨ç½²å®Œæˆåï¼Œä½ ä¼šå¾—åˆ° 7 ä¸ªæ–°çš„ Logic App URLsï¼ŒåŠ ä¸Šä¹‹å‰çš„ `upload-match`ï¼Œå…± 8 ä¸ªã€‚

### 2. æ›´æ–° `frontend/config.js`

æ‰“å¼€ `frontend/config.js`ï¼Œå°†æ‰€æœ‰ Logic App URLs å¡«å…¥ï¼š

```javascript
apiEndpoints: {
    uploadMatch: 'https://prod-14.francecentral.logic.azure.com/...',  // å·²æœ‰
    getMatches: 'YOUR_GET_MATCHES_URL',  // æ–°å¢
    getMatchById: 'YOUR_GET_MATCH_BY_ID_URL',  // æ–°å¢
    deleteMatch: 'YOUR_DELETE_MATCH_URL',  // æ–°å¢
    createAnnotation: 'YOUR_CREATE_ANNOTATION_URL',  // æ–°å¢
    getAnnotations: 'YOUR_GET_ANNOTATIONS_URL',  // æ–°å¢
    addComment: 'YOUR_ADD_COMMENT_URL',  // æ–°å¢
    getComments: 'YOUR_GET_COMMENTS_URL'  // æ–°å¢
}
```

### 3. æ›´æ–° Storage Account å’Œ Cosmos DB åç§°

åœ¨ `frontend/config.js` ä¸­ï¼š

```javascript
storage: {
    accountName: 'sports1357',  // ä½ çš„ Storage Account åç§°
    // ...
},

cosmosDb: {
    accountName: 'sprot-113992',  // ä½ çš„ Cosmos DB è´¦æˆ·åç§°
    // ...
}
```

---

## ğŸ§ª æµ‹è¯•

### 1. æµ‹è¯•ä¸Šä¼ åŠŸèƒ½

1. åŒå‡»æ‰“å¼€ `frontend/index.html`
2. ç‚¹å‡» "ä¸Šä¼ æ–°æ¯”èµ›"
3. å¡«å†™ä¿¡æ¯å¹¶ä¸Šä¼ ä¸€ä¸ªå°è§†é¢‘
4. è§‚å¯Ÿæ˜¯å¦æˆåŠŸ

### 2. æµ‹è¯•æŸ¥çœ‹åŠŸèƒ½

1. åˆ·æ–°é¡µé¢
2. åº”è¯¥èƒ½çœ‹åˆ°åˆšæ‰ä¸Šä¼ çš„æ¯”èµ›
3. ç‚¹å‡»æ¯”èµ›å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…

### 3. æµ‹è¯•å…¶ä»–åŠŸèƒ½

- æ·»åŠ æˆ˜æœ¯æ ‡æ³¨
- æ·»åŠ è¯„è®º
- åˆ é™¤æ¯”èµ›

---

## ğŸ“Š é¡¹ç›®ç»“æ„

```
E:\11.9\
â”‚
â”œâ”€â”€ frontend/                    # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ index.html              # ä¸»é¡µ
â”‚   â”œâ”€â”€ match-detail.html       # æ¯”èµ›è¯¦æƒ…é¡µ
â”‚   â”œâ”€â”€ styles.css              # æ ·å¼
â”‚   â”œâ”€â”€ config.js               # é…ç½®ï¼ˆéœ€è¦æ›´æ–° URLsï¼‰
â”‚   â”œâ”€â”€ script.js               # ä¸»é€»è¾‘
â”‚   â””â”€â”€ match-detail.js         # è¯¦æƒ…é¡µé€»è¾‘
â”‚
â”œâ”€â”€ logic-apps/                  # Logic Apps JSON å®šä¹‰
â”‚   â”œâ”€â”€ get-matches.json
â”‚   â”œâ”€â”€ get-match-by-id.json
â”‚   â”œâ”€â”€ delete-match.json
â”‚   â”œâ”€â”€ create-annotation.json
â”‚   â”œâ”€â”€ get-annotations.json
â”‚   â”œâ”€â”€ add-comment.json
â”‚   â”œâ”€â”€ get-comments.json
â”‚   â”œâ”€â”€ deploy-all-logic-apps.ps1  # è‡ªåŠ¨éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ README.md                   # Logic Apps è¯´æ˜
â”‚
â”œâ”€â”€ simple-deploy.ps1            # åŸºç¡€èµ„æºéƒ¨ç½²è„šæœ¬
â”œâ”€â”€ å¿«é€Ÿéƒ¨ç½²æŒ‡å—.md              # æœ¬æ–‡ä»¶
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

---

## ğŸ” å¸¸è§é—®é¢˜

### Q1: Logic Apps è¿”å› 401 Unauthorizedï¼Ÿ
**A**: æ£€æŸ¥ Cosmos DB è¿æ¥é…ç½®ï¼Œç¡®ä¿ Access Key æ­£ç¡®ã€‚

### Q2: å‰ç«¯æ— æ³•åŠ è½½æ¯”èµ›åˆ—è¡¨ï¼Ÿ
**A**: æ£€æŸ¥ `config.js` ä¸­çš„ `getMatches` URL æ˜¯å¦æ­£ç¡®ã€‚

### Q3: CORS é”™è¯¯ï¼Ÿ
**A**: åœ¨ Logic Apps è®¾ç½®ä¸­æ·»åŠ  CORS å…è®¸æºã€‚

### Q4: è§†é¢‘ä¸Šä¼ å¤±è´¥ï¼Ÿ
**A**: æ£€æŸ¥è§†é¢‘å¤§å°ï¼ˆå»ºè®® <100MBï¼‰å’Œæ ¼å¼ï¼ˆMP4/WebMï¼‰ã€‚

---

## ğŸ“¸ æäº¤ä½œä¸š

### Written Assignmentï¼ˆ50%ï¼‰

éœ€è¦å‡†å¤‡ï¼š
1. **ç³»ç»Ÿæ¶æ„å›¾** - å±•ç¤º Azure èµ„æºå’Œæ•°æ®æµ
2. **æ•°æ®åº“è®¾è®¡** - Cosmos DB å®¹å™¨å’Œåˆ†åŒºé”®è¯´æ˜
3. **API è®¾è®¡** - æ‰€æœ‰ Logic Apps çš„æ¥å£æ–‡æ¡£
4. **PPT** - è®¾è®¡æ€è·¯å’ŒæŠ€æœ¯é€‰å‹è¯´æ˜

### Projectï¼ˆ50%ï¼‰

éœ€è¦å‡†å¤‡ï¼š
1. **æ¼”ç¤ºè§†é¢‘** - å½•åˆ¶å®Œæ•´åŠŸèƒ½æ¼”ç¤º
2. **ä»£ç å’Œé…ç½®** - æäº¤æ‰€æœ‰æºä»£ç 
3. **éƒ¨ç½²è¯´æ˜** - å¦‚ä½•éƒ¨ç½²åˆ° Azure
4. **æŠ€æœ¯æ–‡æ¡£** - æ¶æ„å’Œå®ç°è¯´æ˜

---

## ğŸ“ å­¦ä¹ èµ„æº

- Azure Logic Apps: https://learn.microsoft.com/azure/logic-apps/
- Azure Cosmos DB: https://learn.microsoft.com/azure/cosmos-db/
- Azure Blob Storage: https://learn.microsoft.com/azure/storage/blobs/

---

**ç¥ä½ é¡ºåˆ©å®Œæˆä½œä¸šï¼** ğŸ‰

